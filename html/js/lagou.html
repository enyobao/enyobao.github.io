<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>拉勾移入移出－多个</title>
	<script type="text/javascript" src="../../js/fn.js"></script>
	<style>
		*{
			margin:0;
			padding:0;
			list-style: none;
		}
		#ul1{
			width: 880px;
			margin:100px auto;
		}
		li{
			width: 200px;
			height: 200px;
			background: red;
			float: left;
			margin:10px;
			position: relative;
			overflow: hidden;
		}
		span{
			position: absolute;
			left: 200px;
			top:0;
			width: 100%;
			height: 100%;
			background: green;
			font-size: 50px;
			text-align: center;
			line-height: 200px;
			color: #fff;
		}
		img{
			width: 100%;
		}
	</style>
	<script>
		function hoverDir(obj,ev){
			var x=obj.offsetLeft+obj.offsetWidth/2-ev.clientX;
			var y=obj.offsetTop+obj.offsetHeight/2-ev.clientY;

			return Math.round((Math.atan2(y,x)*180/Math.PI+180)/90)%4;
		}
		window.onload=function(){
			var oUl=document.getElementById('ul1');
			var aLi=oUl.children;
			var aSpan=oUl.getElementsByTagName('span');

			for(var i=0;i<aLi.length;i++){
				aLi[i].index=i;
				aLi[i].onmouseenter=function(ev){
					var oEvent=ev||event;
					var n=hoverDir(this,oEvent);
					switch(n){
						case 0:
							aSpan[this.index].style.left='200px';
							aSpan[this.index].style.top=0;
							break;
						case 1:
							aSpan[this.index].style.left=0;
							aSpan[this.index].style.top='200px';
							break;
						case 2:
							aSpan[this.index].style.left='-200px';
							aSpan[this.index].style.top=0;
							break;
						case 3:
							aSpan[this.index].style.left=0;
							aSpan[this.index].style.top='-200px';
							break;
					}
					move(aSpan[this.index],{left:0,top:0});
				};
				aLi[i].onmouseleave=function(ev){
					var oEvent=ev||event;
					var n=hoverDir(this,oEvent);

					switch(n){
						case 0:
							move(aSpan[this.index],{left:200,top:0});
							break;
						case 1:
							move(aSpan[this.index],{left:0,top:200});
							break;
						case 2:
							move(aSpan[this.index],{left:-200,top:0});
							break;
						case 3:
							move(aSpan[this.index],{left:0,top:-200});
							break;
					}
				};
			}
		};
	</script>
</head>
<body>
	<ul id="ul1">
		<li><img src="img/cat/1.jpg"><span>猫1</span></li>
		<li><img src="img/cat/2.jpg"><span>猫2</span></li>
		<li><img src="img/cat/3.jpg"><span>猫3</span></li>
		<li><img src="img/cat/4.jpg"><span>猫4</span></li>
		<li><img src="img/cat/5.jpg"><span>猫5</span></li>
		<li><img src="img/cat/6.jpg"><span>猫6</span></li>
		<li><img src="img/cat/7.jpg"><span>猫7</span></li>
		<li><img src="img/cat/8.jpg"><span>猫8</span></li>
	</ul>
</body>
</html>